{% extends 'base.html.twig' %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="container mt-4">
    <h2 class="titre">Donnez votre avis</h2>
    <form id="avisForm" onsubmit="return handleAvisSubmit(event)">
        <label for="avis">Votre avis sur le site :</label><br>
        <p>Sur cette page donnez votre avis sur le site afin que je puisse l'améliorer en le rendant plus attractif.
        <br>
        Pour cela répondez à ces quelques questions </p>
        <textarea id="avis" name="avis" rows="4" cols="50" placeholder="Écrivez votre avis ici..." required></textarea><br><br>
        <button type="submit" class="btn btn-primary">Envoyer</button>
    </form>

    <script>
        function handleAvisSubmit(event) {
            event.preventDefault(); // Empêche l'envoi classique du formulaire

            // Récupère la valeur du champ
            const avis = document.getElementById('avis').value.trim();

            // Vérifie si le champ est rempli
            if (!avis) {
                alert("Veuillez écrire un avis avant d'envoyer.");
                return false;
            }

            // Affiche un message d'erreur simulé
            alert("Une erreur s'est produite lors de l'envoi de votre avis. Veuillez réessayer plus tard.");
            return false;
        }
    </script>
</div>
{% endblock %}